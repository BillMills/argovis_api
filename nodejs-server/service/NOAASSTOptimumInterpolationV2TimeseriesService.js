'use strict';
const noaasst = require('../models/noaasst');
const helpers = require('../helpers/helpers')

/**
 * NOAA SST search and filter.
 *
 * id String Unique ID to search for. (optional)
 * startDate Date ISO 8601 UTC date-time formatted string indicating the beginning of the time period of interest. (optional)
 * endDate Date ISO 8601 UTC date-time formatted string indicating the end of the time period of interest. (optional)
 * polygon String array of [lon, lat] vertices describing a polygon bounding the region of interest; final point must match initial point (optional)
 * multipolygon String array of polygon regions; region of interest is taken as the intersection of all listed polygons. (optional)
 * winding String Enforce ccw winding for polygon and multipolygon (optional)
 * center List center to measure max radius from when defining circular region of interest; must be used in conjunction with query string parameter 'radius'. (optional)
 * radius BigDecimal km from centerpoint when defining circular region of interest; must be used in conjunction with query string parameter 'center'. (optional)
 * mostrecent BigDecimal get back only the n records with the most recent values of timestamp. (optional)
 * compression String Data minification strategy to apply. (optional)
 * data List Keys of data to include. Return only documents that have all data requested, within the pressure range if specified. Accepts ~ negation to filter out documents including the specified data. Omission of this parameter will result in metadata only responses. (optional)
 * returns List
 **/
exports.findNOAASST = function(res,id,startDate,endDate,polygon,multipolygon,winding,center,radius,mostrecent,compression,data) {
  return new Promise(function(resolve, reject) {
    // input sanitization
    let params = helpers.parameter_sanitization('noaasst',id,startDate,endDate,polygon,multipolygon,winding,center,radius)
    if(params.hasOwnProperty('code')){
      // error, return and bail out
      reject(params)
      return
    }
    params.timeseries = ["1989-12-31T00:00:00Z","1990-01-07T00:00:00Z","1990-01-14T00:00:00Z","1990-01-21T00:00:00Z","1990-01-28T00:00:00Z","1990-02-04T00:00:00Z","1990-02-11T00:00:00Z","1990-02-18T00:00:00Z","1990-02-25T00:00:00Z","1990-03-04T00:00:00Z","1990-03-11T00:00:00Z","1990-03-18T00:00:00Z","1990-03-25T00:00:00Z","1990-04-01T00:00:00Z","1990-04-08T00:00:00Z","1990-04-15T00:00:00Z","1990-04-22T00:00:00Z","1990-04-29T00:00:00Z","1990-05-06T00:00:00Z","1990-05-13T00:00:00Z","1990-05-20T00:00:00Z","1990-05-27T00:00:00Z","1990-06-03T00:00:00Z","1990-06-10T00:00:00Z","1990-06-17T00:00:00Z","1990-06-24T00:00:00Z","1990-07-01T00:00:00Z","1990-07-08T00:00:00Z","1990-07-15T00:00:00Z","1990-07-22T00:00:00Z","1990-07-29T00:00:00Z","1990-08-05T00:00:00Z","1990-08-12T00:00:00Z","1990-08-19T00:00:00Z","1990-08-26T00:00:00Z","1990-09-02T00:00:00Z","1990-09-09T00:00:00Z","1990-09-16T00:00:00Z","1990-09-23T00:00:00Z","1990-09-30T00:00:00Z","1990-10-07T00:00:00Z","1990-10-14T00:00:00Z","1990-10-21T00:00:00Z","1990-10-28T00:00:00Z","1990-11-04T00:00:00Z","1990-11-11T00:00:00Z","1990-11-18T00:00:00Z","1990-11-25T00:00:00Z","1990-12-02T00:00:00Z","1990-12-09T00:00:00Z","1990-12-16T00:00:00Z","1990-12-23T00:00:00Z","1990-12-30T00:00:00Z","1991-01-06T00:00:00Z","1991-01-13T00:00:00Z","1991-01-20T00:00:00Z","1991-01-27T00:00:00Z","1991-02-03T00:00:00Z","1991-02-10T00:00:00Z","1991-02-17T00:00:00Z","1991-02-24T00:00:00Z","1991-03-03T00:00:00Z","1991-03-10T00:00:00Z","1991-03-17T00:00:00Z","1991-03-24T00:00:00Z","1991-03-31T00:00:00Z","1991-04-07T00:00:00Z","1991-04-14T00:00:00Z","1991-04-21T00:00:00Z","1991-04-28T00:00:00Z","1991-05-05T00:00:00Z","1991-05-12T00:00:00Z","1991-05-19T00:00:00Z","1991-05-26T00:00:00Z","1991-06-02T00:00:00Z","1991-06-09T00:00:00Z","1991-06-16T00:00:00Z","1991-06-23T00:00:00Z","1991-06-30T00:00:00Z","1991-07-07T00:00:00Z","1991-07-14T00:00:00Z","1991-07-21T00:00:00Z","1991-07-28T00:00:00Z","1991-08-04T00:00:00Z","1991-08-11T00:00:00Z","1991-08-18T00:00:00Z","1991-08-25T00:00:00Z","1991-09-01T00:00:00Z","1991-09-08T00:00:00Z","1991-09-15T00:00:00Z","1991-09-22T00:00:00Z","1991-09-29T00:00:00Z","1991-10-06T00:00:00Z","1991-10-13T00:00:00Z","1991-10-20T00:00:00Z","1991-10-27T00:00:00Z","1991-11-03T00:00:00Z","1991-11-10T00:00:00Z","1991-11-17T00:00:00Z","1991-11-24T00:00:00Z","1991-12-01T00:00:00Z","1991-12-08T00:00:00Z","1991-12-15T00:00:00Z","1991-12-22T00:00:00Z","1991-12-29T00:00:00Z","1992-01-05T00:00:00Z","1992-01-12T00:00:00Z","1992-01-19T00:00:00Z","1992-01-26T00:00:00Z","1992-02-02T00:00:00Z","1992-02-09T00:00:00Z","1992-02-16T00:00:00Z","1992-02-23T00:00:00Z","1992-03-01T00:00:00Z","1992-03-08T00:00:00Z","1992-03-15T00:00:00Z","1992-03-22T00:00:00Z","1992-03-29T00:00:00Z","1992-04-05T00:00:00Z","1992-04-12T00:00:00Z","1992-04-19T00:00:00Z","1992-04-26T00:00:00Z","1992-05-03T00:00:00Z","1992-05-10T00:00:00Z","1992-05-17T00:00:00Z","1992-05-24T00:00:00Z","1992-05-31T00:00:00Z","1992-06-07T00:00:00Z","1992-06-14T00:00:00Z","1992-06-21T00:00:00Z","1992-06-28T00:00:00Z","1992-07-05T00:00:00Z","1992-07-12T00:00:00Z","1992-07-19T00:00:00Z","1992-07-26T00:00:00Z","1992-08-02T00:00:00Z","1992-08-09T00:00:00Z","1992-08-16T00:00:00Z","1992-08-23T00:00:00Z","1992-08-30T00:00:00Z","1992-09-06T00:00:00Z","1992-09-13T00:00:00Z","1992-09-20T00:00:00Z","1992-09-27T00:00:00Z","1992-10-04T00:00:00Z","1992-10-11T00:00:00Z","1992-10-18T00:00:00Z","1992-10-25T00:00:00Z","1992-11-01T00:00:00Z","1992-11-08T00:00:00Z","1992-11-15T00:00:00Z","1992-11-22T00:00:00Z","1992-11-29T00:00:00Z","1992-12-06T00:00:00Z","1992-12-13T00:00:00Z","1992-12-20T00:00:00Z","1992-12-27T00:00:00Z","1993-01-03T00:00:00Z","1993-01-10T00:00:00Z","1993-01-17T00:00:00Z","1993-01-24T00:00:00Z","1993-01-31T00:00:00Z","1993-02-07T00:00:00Z","1993-02-14T00:00:00Z","1993-02-21T00:00:00Z","1993-02-28T00:00:00Z","1993-03-07T00:00:00Z","1993-03-14T00:00:00Z","1993-03-21T00:00:00Z","1993-03-28T00:00:00Z","1993-04-04T00:00:00Z","1993-04-11T00:00:00Z","1993-04-18T00:00:00Z","1993-04-25T00:00:00Z","1993-05-02T00:00:00Z","1993-05-09T00:00:00Z","1993-05-16T00:00:00Z","1993-05-23T00:00:00Z","1993-05-30T00:00:00Z","1993-06-06T00:00:00Z","1993-06-13T00:00:00Z","1993-06-20T00:00:00Z","1993-06-27T00:00:00Z","1993-07-04T00:00:00Z","1993-07-11T00:00:00Z","1993-07-18T00:00:00Z","1993-07-25T00:00:00Z","1993-08-01T00:00:00Z","1993-08-08T00:00:00Z","1993-08-15T00:00:00Z","1993-08-22T00:00:00Z","1993-08-29T00:00:00Z","1993-09-05T00:00:00Z","1993-09-12T00:00:00Z","1993-09-19T00:00:00Z","1993-09-26T00:00:00Z","1993-10-03T00:00:00Z","1993-10-10T00:00:00Z","1993-10-17T00:00:00Z","1993-10-24T00:00:00Z","1993-10-31T00:00:00Z","1993-11-07T00:00:00Z","1993-11-14T00:00:00Z","1993-11-21T00:00:00Z","1993-11-28T00:00:00Z","1993-12-05T00:00:00Z","1993-12-12T00:00:00Z","1993-12-19T00:00:00Z","1993-12-26T00:00:00Z","1994-01-02T00:00:00Z","1994-01-09T00:00:00Z","1994-01-16T00:00:00Z","1994-01-23T00:00:00Z","1994-01-30T00:00:00Z","1994-02-06T00:00:00Z","1994-02-13T00:00:00Z","1994-02-20T00:00:00Z","1994-02-27T00:00:00Z","1994-03-06T00:00:00Z","1994-03-13T00:00:00Z","1994-03-20T00:00:00Z","1994-03-27T00:00:00Z","1994-04-03T00:00:00Z","1994-04-10T00:00:00Z","1994-04-17T00:00:00Z","1994-04-24T00:00:00Z","1994-05-01T00:00:00Z","1994-05-08T00:00:00Z","1994-05-15T00:00:00Z","1994-05-22T00:00:00Z","1994-05-29T00:00:00Z","1994-06-05T00:00:00Z","1994-06-12T00:00:00Z","1994-06-19T00:00:00Z","1994-06-26T00:00:00Z","1994-07-03T00:00:00Z","1994-07-10T00:00:00Z","1994-07-17T00:00:00Z","1994-07-24T00:00:00Z","1994-07-31T00:00:00Z","1994-08-07T00:00:00Z","1994-08-14T00:00:00Z","1994-08-21T00:00:00Z","1994-08-28T00:00:00Z","1994-09-04T00:00:00Z","1994-09-11T00:00:00Z","1994-09-18T00:00:00Z","1994-09-25T00:00:00Z","1994-10-02T00:00:00Z","1994-10-09T00:00:00Z","1994-10-16T00:00:00Z","1994-10-23T00:00:00Z","1994-10-30T00:00:00Z","1994-11-06T00:00:00Z","1994-11-13T00:00:00Z","1994-11-20T00:00:00Z","1994-11-27T00:00:00Z","1994-12-04T00:00:00Z","1994-12-11T00:00:00Z","1994-12-18T00:00:00Z","1994-12-25T00:00:00Z","1995-01-01T00:00:00Z","1995-01-08T00:00:00Z","1995-01-15T00:00:00Z","1995-01-22T00:00:00Z","1995-01-29T00:00:00Z","1995-02-05T00:00:00Z","1995-02-12T00:00:00Z","1995-02-19T00:00:00Z","1995-02-26T00:00:00Z","1995-03-05T00:00:00Z","1995-03-12T00:00:00Z","1995-03-19T00:00:00Z","1995-03-26T00:00:00Z","1995-04-02T00:00:00Z","1995-04-09T00:00:00Z","1995-04-16T00:00:00Z","1995-04-23T00:00:00Z","1995-04-30T00:00:00Z","1995-05-07T00:00:00Z","1995-05-14T00:00:00Z","1995-05-21T00:00:00Z","1995-05-28T00:00:00Z","1995-06-04T00:00:00Z","1995-06-11T00:00:00Z","1995-06-18T00:00:00Z","1995-06-25T00:00:00Z","1995-07-02T00:00:00Z","1995-07-09T00:00:00Z","1995-07-16T00:00:00Z","1995-07-23T00:00:00Z","1995-07-30T00:00:00Z","1995-08-06T00:00:00Z","1995-08-13T00:00:00Z","1995-08-20T00:00:00Z","1995-08-27T00:00:00Z","1995-09-03T00:00:00Z","1995-09-10T00:00:00Z","1995-09-17T00:00:00Z","1995-09-24T00:00:00Z","1995-10-01T00:00:00Z","1995-10-08T00:00:00Z","1995-10-15T00:00:00Z","1995-10-22T00:00:00Z","1995-10-29T00:00:00Z","1995-11-05T00:00:00Z","1995-11-12T00:00:00Z","1995-11-19T00:00:00Z","1995-11-26T00:00:00Z","1995-12-03T00:00:00Z","1995-12-10T00:00:00Z","1995-12-17T00:00:00Z","1995-12-24T00:00:00Z","1995-12-31T00:00:00Z","1996-01-07T00:00:00Z","1996-01-14T00:00:00Z","1996-01-21T00:00:00Z","1996-01-28T00:00:00Z","1996-02-04T00:00:00Z","1996-02-11T00:00:00Z","1996-02-18T00:00:00Z","1996-02-25T00:00:00Z","1996-03-03T00:00:00Z","1996-03-10T00:00:00Z","1996-03-17T00:00:00Z","1996-03-24T00:00:00Z","1996-03-31T00:00:00Z","1996-04-07T00:00:00Z","1996-04-14T00:00:00Z","1996-04-21T00:00:00Z","1996-04-28T00:00:00Z","1996-05-05T00:00:00Z","1996-05-12T00:00:00Z","1996-05-19T00:00:00Z","1996-05-26T00:00:00Z","1996-06-02T00:00:00Z","1996-06-09T00:00:00Z","1996-06-16T00:00:00Z","1996-06-23T00:00:00Z","1996-06-30T00:00:00Z","1996-07-07T00:00:00Z","1996-07-14T00:00:00Z","1996-07-21T00:00:00Z","1996-07-28T00:00:00Z","1996-08-04T00:00:00Z","1996-08-11T00:00:00Z","1996-08-18T00:00:00Z","1996-08-25T00:00:00Z","1996-09-01T00:00:00Z","1996-09-08T00:00:00Z","1996-09-15T00:00:00Z","1996-09-22T00:00:00Z","1996-09-29T00:00:00Z","1996-10-06T00:00:00Z","1996-10-13T00:00:00Z","1996-10-20T00:00:00Z","1996-10-27T00:00:00Z","1996-11-03T00:00:00Z","1996-11-10T00:00:00Z","1996-11-17T00:00:00Z","1996-11-24T00:00:00Z","1996-12-01T00:00:00Z","1996-12-08T00:00:00Z","1996-12-15T00:00:00Z","1996-12-22T00:00:00Z","1996-12-29T00:00:00Z","1997-01-05T00:00:00Z","1997-01-12T00:00:00Z","1997-01-19T00:00:00Z","1997-01-26T00:00:00Z","1997-02-02T00:00:00Z","1997-02-09T00:00:00Z","1997-02-16T00:00:00Z","1997-02-23T00:00:00Z","1997-03-02T00:00:00Z","1997-03-09T00:00:00Z","1997-03-16T00:00:00Z","1997-03-23T00:00:00Z","1997-03-30T00:00:00Z","1997-04-06T00:00:00Z","1997-04-13T00:00:00Z","1997-04-20T00:00:00Z","1997-04-27T00:00:00Z","1997-05-04T00:00:00Z","1997-05-11T00:00:00Z","1997-05-18T00:00:00Z","1997-05-25T00:00:00Z","1997-06-01T00:00:00Z","1997-06-08T00:00:00Z","1997-06-15T00:00:00Z","1997-06-22T00:00:00Z","1997-06-29T00:00:00Z","1997-07-06T00:00:00Z","1997-07-13T00:00:00Z","1997-07-20T00:00:00Z","1997-07-27T00:00:00Z","1997-08-03T00:00:00Z","1997-08-10T00:00:00Z","1997-08-17T00:00:00Z","1997-08-24T00:00:00Z","1997-08-31T00:00:00Z","1997-09-07T00:00:00Z","1997-09-14T00:00:00Z","1997-09-21T00:00:00Z","1997-09-28T00:00:00Z","1997-10-05T00:00:00Z","1997-10-12T00:00:00Z","1997-10-19T00:00:00Z","1997-10-26T00:00:00Z","1997-11-02T00:00:00Z","1997-11-09T00:00:00Z","1997-11-16T00:00:00Z","1997-11-23T00:00:00Z","1997-11-30T00:00:00Z","1997-12-07T00:00:00Z","1997-12-14T00:00:00Z","1997-12-21T00:00:00Z","1997-12-28T00:00:00Z","1998-01-04T00:00:00Z","1998-01-11T00:00:00Z","1998-01-18T00:00:00Z","1998-01-25T00:00:00Z","1998-02-01T00:00:00Z","1998-02-08T00:00:00Z","1998-02-15T00:00:00Z","1998-02-22T00:00:00Z","1998-03-01T00:00:00Z","1998-03-08T00:00:00Z","1998-03-15T00:00:00Z","1998-03-22T00:00:00Z","1998-03-29T00:00:00Z","1998-04-05T00:00:00Z","1998-04-12T00:00:00Z","1998-04-19T00:00:00Z","1998-04-26T00:00:00Z","1998-05-03T00:00:00Z","1998-05-10T00:00:00Z","1998-05-17T00:00:00Z","1998-05-24T00:00:00Z","1998-05-31T00:00:00Z","1998-06-07T00:00:00Z","1998-06-14T00:00:00Z","1998-06-21T00:00:00Z","1998-06-28T00:00:00Z","1998-07-05T00:00:00Z","1998-07-12T00:00:00Z","1998-07-19T00:00:00Z","1998-07-26T00:00:00Z","1998-08-02T00:00:00Z","1998-08-09T00:00:00Z","1998-08-16T00:00:00Z","1998-08-23T00:00:00Z","1998-08-30T00:00:00Z","1998-09-06T00:00:00Z","1998-09-13T00:00:00Z","1998-09-20T00:00:00Z","1998-09-27T00:00:00Z","1998-10-04T00:00:00Z","1998-10-11T00:00:00Z","1998-10-18T00:00:00Z","1998-10-25T00:00:00Z","1998-11-01T00:00:00Z","1998-11-08T00:00:00Z","1998-11-15T00:00:00Z","1998-11-22T00:00:00Z","1998-11-29T00:00:00Z","1998-12-06T00:00:00Z","1998-12-13T00:00:00Z","1998-12-20T00:00:00Z","1998-12-27T00:00:00Z","1999-01-03T00:00:00Z","1999-01-10T00:00:00Z","1999-01-17T00:00:00Z","1999-01-24T00:00:00Z","1999-01-31T00:00:00Z","1999-02-07T00:00:00Z","1999-02-14T00:00:00Z","1999-02-21T00:00:00Z","1999-02-28T00:00:00Z","1999-03-07T00:00:00Z","1999-03-14T00:00:00Z","1999-03-21T00:00:00Z","1999-03-28T00:00:00Z","1999-04-04T00:00:00Z","1999-04-11T00:00:00Z","1999-04-18T00:00:00Z","1999-04-25T00:00:00Z","1999-05-02T00:00:00Z","1999-05-09T00:00:00Z","1999-05-16T00:00:00Z","1999-05-23T00:00:00Z","1999-05-30T00:00:00Z","1999-06-06T00:00:00Z","1999-06-13T00:00:00Z","1999-06-20T00:00:00Z","1999-06-27T00:00:00Z","1999-07-04T00:00:00Z","1999-07-11T00:00:00Z","1999-07-18T00:00:00Z","1999-07-25T00:00:00Z","1999-08-01T00:00:00Z","1999-08-08T00:00:00Z","1999-08-15T00:00:00Z","1999-08-22T00:00:00Z","1999-08-29T00:00:00Z","1999-09-05T00:00:00Z","1999-09-12T00:00:00Z","1999-09-19T00:00:00Z","1999-09-26T00:00:00Z","1999-10-03T00:00:00Z","1999-10-10T00:00:00Z","1999-10-17T00:00:00Z","1999-10-24T00:00:00Z","1999-10-31T00:00:00Z","1999-11-07T00:00:00Z","1999-11-14T00:00:00Z","1999-11-21T00:00:00Z","1999-11-28T00:00:00Z","1999-12-05T00:00:00Z","1999-12-12T00:00:00Z","1999-12-19T00:00:00Z","1999-12-26T00:00:00Z","2000-01-02T00:00:00Z","2000-01-09T00:00:00Z","2000-01-16T00:00:00Z","2000-01-23T00:00:00Z","2000-01-30T00:00:00Z","2000-02-06T00:00:00Z","2000-02-13T00:00:00Z","2000-02-20T00:00:00Z","2000-02-27T00:00:00Z","2000-03-05T00:00:00Z","2000-03-12T00:00:00Z","2000-03-19T00:00:00Z","2000-03-26T00:00:00Z","2000-04-02T00:00:00Z","2000-04-09T00:00:00Z","2000-04-16T00:00:00Z","2000-04-23T00:00:00Z","2000-04-30T00:00:00Z","2000-05-07T00:00:00Z","2000-05-14T00:00:00Z","2000-05-21T00:00:00Z","2000-05-28T00:00:00Z","2000-06-04T00:00:00Z","2000-06-11T00:00:00Z","2000-06-18T00:00:00Z","2000-06-25T00:00:00Z","2000-07-02T00:00:00Z","2000-07-09T00:00:00Z","2000-07-16T00:00:00Z","2000-07-23T00:00:00Z","2000-07-30T00:00:00Z","2000-08-06T00:00:00Z","2000-08-13T00:00:00Z","2000-08-20T00:00:00Z","2000-08-27T00:00:00Z","2000-09-03T00:00:00Z","2000-09-10T00:00:00Z","2000-09-17T00:00:00Z","2000-09-24T00:00:00Z","2000-10-01T00:00:00Z","2000-10-08T00:00:00Z","2000-10-15T00:00:00Z","2000-10-22T00:00:00Z","2000-10-29T00:00:00Z","2000-11-05T00:00:00Z","2000-11-12T00:00:00Z","2000-11-19T00:00:00Z","2000-11-26T00:00:00Z","2000-12-03T00:00:00Z","2000-12-10T00:00:00Z","2000-12-17T00:00:00Z","2000-12-24T00:00:00Z","2000-12-31T00:00:00Z","2001-01-07T00:00:00Z","2001-01-14T00:00:00Z","2001-01-21T00:00:00Z","2001-01-28T00:00:00Z","2001-02-04T00:00:00Z","2001-02-11T00:00:00Z","2001-02-18T00:00:00Z","2001-02-25T00:00:00Z","2001-03-04T00:00:00Z","2001-03-11T00:00:00Z","2001-03-18T00:00:00Z","2001-03-25T00:00:00Z","2001-04-01T00:00:00Z","2001-04-08T00:00:00Z","2001-04-15T00:00:00Z","2001-04-22T00:00:00Z","2001-04-29T00:00:00Z","2001-05-06T00:00:00Z","2001-05-13T00:00:00Z","2001-05-20T00:00:00Z","2001-05-27T00:00:00Z","2001-06-03T00:00:00Z","2001-06-10T00:00:00Z","2001-06-17T00:00:00Z","2001-06-24T00:00:00Z","2001-07-01T00:00:00Z","2001-07-08T00:00:00Z","2001-07-15T00:00:00Z","2001-07-22T00:00:00Z","2001-07-29T00:00:00Z","2001-08-05T00:00:00Z","2001-08-12T00:00:00Z","2001-08-19T00:00:00Z","2001-08-26T00:00:00Z","2001-09-02T00:00:00Z","2001-09-09T00:00:00Z","2001-09-16T00:00:00Z","2001-09-23T00:00:00Z","2001-09-30T00:00:00Z","2001-10-07T00:00:00Z","2001-10-14T00:00:00Z","2001-10-21T00:00:00Z","2001-10-28T00:00:00Z","2001-11-04T00:00:00Z","2001-11-11T00:00:00Z","2001-11-18T00:00:00Z","2001-11-25T00:00:00Z","2001-12-02T00:00:00Z","2001-12-09T00:00:00Z","2001-12-16T00:00:00Z","2001-12-23T00:00:00Z","2001-12-30T00:00:00Z","2002-01-06T00:00:00Z","2002-01-13T00:00:00Z","2002-01-20T00:00:00Z","2002-01-27T00:00:00Z","2002-02-03T00:00:00Z","2002-02-10T00:00:00Z","2002-02-17T00:00:00Z","2002-02-24T00:00:00Z","2002-03-03T00:00:00Z","2002-03-10T00:00:00Z","2002-03-17T00:00:00Z","2002-03-24T00:00:00Z","2002-03-31T00:00:00Z","2002-04-07T00:00:00Z","2002-04-14T00:00:00Z","2002-04-21T00:00:00Z","2002-04-28T00:00:00Z","2002-05-05T00:00:00Z","2002-05-12T00:00:00Z","2002-05-19T00:00:00Z","2002-05-26T00:00:00Z","2002-06-02T00:00:00Z","2002-06-09T00:00:00Z","2002-06-16T00:00:00Z","2002-06-23T00:00:00Z","2002-06-30T00:00:00Z","2002-07-07T00:00:00Z","2002-07-14T00:00:00Z","2002-07-21T00:00:00Z","2002-07-28T00:00:00Z","2002-08-04T00:00:00Z","2002-08-11T00:00:00Z","2002-08-18T00:00:00Z","2002-08-25T00:00:00Z","2002-09-01T00:00:00Z","2002-09-08T00:00:00Z","2002-09-15T00:00:00Z","2002-09-22T00:00:00Z","2002-09-29T00:00:00Z","2002-10-06T00:00:00Z","2002-10-13T00:00:00Z","2002-10-20T00:00:00Z","2002-10-27T00:00:00Z","2002-11-03T00:00:00Z","2002-11-10T00:00:00Z","2002-11-17T00:00:00Z","2002-11-24T00:00:00Z","2002-12-01T00:00:00Z","2002-12-08T00:00:00Z","2002-12-15T00:00:00Z","2002-12-22T00:00:00Z","2002-12-29T00:00:00Z","2003-01-05T00:00:00Z","2003-01-12T00:00:00Z","2003-01-19T00:00:00Z","2003-01-26T00:00:00Z","2003-02-02T00:00:00Z","2003-02-09T00:00:00Z","2003-02-16T00:00:00Z","2003-02-23T00:00:00Z","2003-03-02T00:00:00Z","2003-03-09T00:00:00Z","2003-03-16T00:00:00Z","2003-03-23T00:00:00Z","2003-03-30T00:00:00Z","2003-04-06T00:00:00Z","2003-04-13T00:00:00Z","2003-04-20T00:00:00Z","2003-04-27T00:00:00Z","2003-05-04T00:00:00Z","2003-05-11T00:00:00Z","2003-05-18T00:00:00Z","2003-05-25T00:00:00Z","2003-06-01T00:00:00Z","2003-06-08T00:00:00Z","2003-06-15T00:00:00Z","2003-06-22T00:00:00Z","2003-06-29T00:00:00Z","2003-07-06T00:00:00Z","2003-07-13T00:00:00Z","2003-07-20T00:00:00Z","2003-07-27T00:00:00Z","2003-08-03T00:00:00Z","2003-08-10T00:00:00Z","2003-08-17T00:00:00Z","2003-08-24T00:00:00Z","2003-08-31T00:00:00Z","2003-09-07T00:00:00Z","2003-09-14T00:00:00Z","2003-09-21T00:00:00Z","2003-09-28T00:00:00Z","2003-10-05T00:00:00Z","2003-10-12T00:00:00Z","2003-10-19T00:00:00Z","2003-10-26T00:00:00Z","2003-11-02T00:00:00Z","2003-11-09T00:00:00Z","2003-11-16T00:00:00Z","2003-11-23T00:00:00Z","2003-11-30T00:00:00Z","2003-12-07T00:00:00Z","2003-12-14T00:00:00Z","2003-12-21T00:00:00Z","2003-12-28T00:00:00Z","2004-01-04T00:00:00Z","2004-01-11T00:00:00Z","2004-01-18T00:00:00Z","2004-01-25T00:00:00Z","2004-02-01T00:00:00Z","2004-02-08T00:00:00Z","2004-02-15T00:00:00Z","2004-02-22T00:00:00Z","2004-02-29T00:00:00Z","2004-03-07T00:00:00Z","2004-03-14T00:00:00Z","2004-03-21T00:00:00Z","2004-03-28T00:00:00Z","2004-04-04T00:00:00Z","2004-04-11T00:00:00Z","2004-04-18T00:00:00Z","2004-04-25T00:00:00Z","2004-05-02T00:00:00Z","2004-05-09T00:00:00Z","2004-05-16T00:00:00Z","2004-05-23T00:00:00Z","2004-05-30T00:00:00Z","2004-06-06T00:00:00Z","2004-06-13T00:00:00Z","2004-06-20T00:00:00Z","2004-06-27T00:00:00Z","2004-07-04T00:00:00Z","2004-07-11T00:00:00Z","2004-07-18T00:00:00Z","2004-07-25T00:00:00Z","2004-08-01T00:00:00Z","2004-08-08T00:00:00Z","2004-08-15T00:00:00Z","2004-08-22T00:00:00Z","2004-08-29T00:00:00Z","2004-09-05T00:00:00Z","2004-09-12T00:00:00Z","2004-09-19T00:00:00Z","2004-09-26T00:00:00Z","2004-10-03T00:00:00Z","2004-10-10T00:00:00Z","2004-10-17T00:00:00Z","2004-10-24T00:00:00Z","2004-10-31T00:00:00Z","2004-11-07T00:00:00Z","2004-11-14T00:00:00Z","2004-11-21T00:00:00Z","2004-11-28T00:00:00Z","2004-12-05T00:00:00Z","2004-12-12T00:00:00Z","2004-12-19T00:00:00Z","2004-12-26T00:00:00Z","2005-01-02T00:00:00Z","2005-01-09T00:00:00Z","2005-01-16T00:00:00Z","2005-01-23T00:00:00Z","2005-01-30T00:00:00Z","2005-02-06T00:00:00Z","2005-02-13T00:00:00Z","2005-02-20T00:00:00Z","2005-02-27T00:00:00Z","2005-03-06T00:00:00Z","2005-03-13T00:00:00Z","2005-03-20T00:00:00Z","2005-03-27T00:00:00Z","2005-04-03T00:00:00Z","2005-04-10T00:00:00Z","2005-04-17T00:00:00Z","2005-04-24T00:00:00Z","2005-05-01T00:00:00Z","2005-05-08T00:00:00Z","2005-05-15T00:00:00Z","2005-05-22T00:00:00Z","2005-05-29T00:00:00Z","2005-06-05T00:00:00Z","2005-06-12T00:00:00Z","2005-06-19T00:00:00Z","2005-06-26T00:00:00Z","2005-07-03T00:00:00Z","2005-07-10T00:00:00Z","2005-07-17T00:00:00Z","2005-07-24T00:00:00Z","2005-07-31T00:00:00Z","2005-08-07T00:00:00Z","2005-08-14T00:00:00Z","2005-08-21T00:00:00Z","2005-08-28T00:00:00Z","2005-09-04T00:00:00Z","2005-09-11T00:00:00Z","2005-09-18T00:00:00Z","2005-09-25T00:00:00Z","2005-10-02T00:00:00Z","2005-10-09T00:00:00Z","2005-10-16T00:00:00Z","2005-10-23T00:00:00Z","2005-10-30T00:00:00Z","2005-11-06T00:00:00Z","2005-11-13T00:00:00Z","2005-11-20T00:00:00Z","2005-11-27T00:00:00Z","2005-12-04T00:00:00Z","2005-12-11T00:00:00Z","2005-12-18T00:00:00Z","2005-12-25T00:00:00Z","2006-01-01T00:00:00Z","2006-01-08T00:00:00Z","2006-01-15T00:00:00Z","2006-01-22T00:00:00Z","2006-01-29T00:00:00Z","2006-02-05T00:00:00Z","2006-02-12T00:00:00Z","2006-02-19T00:00:00Z","2006-02-26T00:00:00Z","2006-03-05T00:00:00Z","2006-03-12T00:00:00Z","2006-03-19T00:00:00Z","2006-03-26T00:00:00Z","2006-04-02T00:00:00Z","2006-04-09T00:00:00Z","2006-04-16T00:00:00Z","2006-04-23T00:00:00Z","2006-04-30T00:00:00Z","2006-05-07T00:00:00Z","2006-05-14T00:00:00Z","2006-05-21T00:00:00Z","2006-05-28T00:00:00Z","2006-06-04T00:00:00Z","2006-06-11T00:00:00Z","2006-06-18T00:00:00Z","2006-06-25T00:00:00Z","2006-07-02T00:00:00Z","2006-07-09T00:00:00Z","2006-07-16T00:00:00Z","2006-07-23T00:00:00Z","2006-07-30T00:00:00Z","2006-08-06T00:00:00Z","2006-08-13T00:00:00Z","2006-08-20T00:00:00Z","2006-08-27T00:00:00Z","2006-09-03T00:00:00Z","2006-09-10T00:00:00Z","2006-09-17T00:00:00Z","2006-09-24T00:00:00Z","2006-10-01T00:00:00Z","2006-10-08T00:00:00Z","2006-10-15T00:00:00Z","2006-10-22T00:00:00Z","2006-10-29T00:00:00Z","2006-11-05T00:00:00Z","2006-11-12T00:00:00Z","2006-11-19T00:00:00Z","2006-11-26T00:00:00Z","2006-12-03T00:00:00Z","2006-12-10T00:00:00Z","2006-12-17T00:00:00Z","2006-12-24T00:00:00Z","2006-12-31T00:00:00Z","2007-01-07T00:00:00Z","2007-01-14T00:00:00Z","2007-01-21T00:00:00Z","2007-01-28T00:00:00Z","2007-02-04T00:00:00Z","2007-02-11T00:00:00Z","2007-02-18T00:00:00Z","2007-02-25T00:00:00Z","2007-03-04T00:00:00Z","2007-03-11T00:00:00Z","2007-03-18T00:00:00Z","2007-03-25T00:00:00Z","2007-04-01T00:00:00Z","2007-04-08T00:00:00Z","2007-04-15T00:00:00Z","2007-04-22T00:00:00Z","2007-04-29T00:00:00Z","2007-05-06T00:00:00Z","2007-05-13T00:00:00Z","2007-05-20T00:00:00Z","2007-05-27T00:00:00Z","2007-06-03T00:00:00Z","2007-06-10T00:00:00Z","2007-06-17T00:00:00Z","2007-06-24T00:00:00Z","2007-07-01T00:00:00Z","2007-07-08T00:00:00Z","2007-07-15T00:00:00Z","2007-07-22T00:00:00Z","2007-07-29T00:00:00Z","2007-08-05T00:00:00Z","2007-08-12T00:00:00Z","2007-08-19T00:00:00Z","2007-08-26T00:00:00Z","2007-09-02T00:00:00Z","2007-09-09T00:00:00Z","2007-09-16T00:00:00Z","2007-09-23T00:00:00Z","2007-09-30T00:00:00Z","2007-10-07T00:00:00Z","2007-10-14T00:00:00Z","2007-10-21T00:00:00Z","2007-10-28T00:00:00Z","2007-11-04T00:00:00Z","2007-11-11T00:00:00Z","2007-11-18T00:00:00Z","2007-11-25T00:00:00Z","2007-12-02T00:00:00Z","2007-12-09T00:00:00Z","2007-12-16T00:00:00Z","2007-12-23T00:00:00Z","2007-12-30T00:00:00Z","2008-01-06T00:00:00Z","2008-01-13T00:00:00Z","2008-01-20T00:00:00Z","2008-01-27T00:00:00Z","2008-02-03T00:00:00Z","2008-02-10T00:00:00Z","2008-02-17T00:00:00Z","2008-02-24T00:00:00Z","2008-03-02T00:00:00Z","2008-03-09T00:00:00Z","2008-03-16T00:00:00Z","2008-03-23T00:00:00Z","2008-03-30T00:00:00Z","2008-04-06T00:00:00Z","2008-04-13T00:00:00Z","2008-04-20T00:00:00Z","2008-04-27T00:00:00Z","2008-05-04T00:00:00Z","2008-05-11T00:00:00Z","2008-05-18T00:00:00Z","2008-05-25T00:00:00Z","2008-06-01T00:00:00Z","2008-06-08T00:00:00Z","2008-06-15T00:00:00Z","2008-06-22T00:00:00Z","2008-06-29T00:00:00Z","2008-07-06T00:00:00Z","2008-07-13T00:00:00Z","2008-07-20T00:00:00Z","2008-07-27T00:00:00Z","2008-08-03T00:00:00Z","2008-08-10T00:00:00Z","2008-08-17T00:00:00Z","2008-08-24T00:00:00Z","2008-08-31T00:00:00Z","2008-09-07T00:00:00Z","2008-09-14T00:00:00Z","2008-09-21T00:00:00Z","2008-09-28T00:00:00Z","2008-10-05T00:00:00Z","2008-10-12T00:00:00Z","2008-10-19T00:00:00Z","2008-10-26T00:00:00Z","2008-11-02T00:00:00Z","2008-11-09T00:00:00Z","2008-11-16T00:00:00Z","2008-11-23T00:00:00Z","2008-11-30T00:00:00Z","2008-12-07T00:00:00Z","2008-12-14T00:00:00Z","2008-12-21T00:00:00Z","2008-12-28T00:00:00Z","2009-01-04T00:00:00Z","2009-01-11T00:00:00Z","2009-01-18T00:00:00Z","2009-01-25T00:00:00Z","2009-02-01T00:00:00Z","2009-02-08T00:00:00Z","2009-02-15T00:00:00Z","2009-02-22T00:00:00Z","2009-03-01T00:00:00Z","2009-03-08T00:00:00Z","2009-03-15T00:00:00Z","2009-03-22T00:00:00Z","2009-03-29T00:00:00Z","2009-04-05T00:00:00Z","2009-04-12T00:00:00Z","2009-04-19T00:00:00Z","2009-04-26T00:00:00Z","2009-05-03T00:00:00Z","2009-05-10T00:00:00Z","2009-05-17T00:00:00Z","2009-05-24T00:00:00Z","2009-05-31T00:00:00Z","2009-06-07T00:00:00Z","2009-06-14T00:00:00Z","2009-06-21T00:00:00Z","2009-06-28T00:00:00Z","2009-07-05T00:00:00Z","2009-07-12T00:00:00Z","2009-07-19T00:00:00Z","2009-07-26T00:00:00Z","2009-08-02T00:00:00Z","2009-08-09T00:00:00Z","2009-08-16T00:00:00Z","2009-08-23T00:00:00Z","2009-08-30T00:00:00Z","2009-09-06T00:00:00Z","2009-09-13T00:00:00Z","2009-09-20T00:00:00Z","2009-09-27T00:00:00Z","2009-10-04T00:00:00Z","2009-10-11T00:00:00Z","2009-10-18T00:00:00Z","2009-10-25T00:00:00Z","2009-11-01T00:00:00Z","2009-11-08T00:00:00Z","2009-11-15T00:00:00Z","2009-11-22T00:00:00Z","2009-11-29T00:00:00Z","2009-12-06T00:00:00Z","2009-12-13T00:00:00Z","2009-12-20T00:00:00Z","2009-12-27T00:00:00Z","2010-01-03T00:00:00Z","2010-01-10T00:00:00Z","2010-01-17T00:00:00Z","2010-01-24T00:00:00Z","2010-01-31T00:00:00Z","2010-02-07T00:00:00Z","2010-02-14T00:00:00Z","2010-02-21T00:00:00Z","2010-02-28T00:00:00Z","2010-03-07T00:00:00Z","2010-03-14T00:00:00Z","2010-03-21T00:00:00Z","2010-03-28T00:00:00Z","2010-04-04T00:00:00Z","2010-04-11T00:00:00Z","2010-04-18T00:00:00Z","2010-04-25T00:00:00Z","2010-05-02T00:00:00Z","2010-05-09T00:00:00Z","2010-05-16T00:00:00Z","2010-05-23T00:00:00Z","2010-05-30T00:00:00Z","2010-06-06T00:00:00Z","2010-06-13T00:00:00Z","2010-06-20T00:00:00Z","2010-06-27T00:00:00Z","2010-07-04T00:00:00Z","2010-07-11T00:00:00Z","2010-07-18T00:00:00Z","2010-07-25T00:00:00Z","2010-08-01T00:00:00Z","2010-08-08T00:00:00Z","2010-08-15T00:00:00Z","2010-08-22T00:00:00Z","2010-08-29T00:00:00Z","2010-09-05T00:00:00Z","2010-09-12T00:00:00Z","2010-09-19T00:00:00Z","2010-09-26T00:00:00Z","2010-10-03T00:00:00Z","2010-10-10T00:00:00Z","2010-10-17T00:00:00Z","2010-10-24T00:00:00Z","2010-10-31T00:00:00Z","2010-11-07T00:00:00Z","2010-11-14T00:00:00Z","2010-11-21T00:00:00Z","2010-11-28T00:00:00Z","2010-12-05T00:00:00Z","2010-12-12T00:00:00Z","2010-12-19T00:00:00Z","2010-12-26T00:00:00Z","2011-01-02T00:00:00Z","2011-01-09T00:00:00Z","2011-01-16T00:00:00Z","2011-01-23T00:00:00Z","2011-01-30T00:00:00Z","2011-02-06T00:00:00Z","2011-02-13T00:00:00Z","2011-02-20T00:00:00Z","2011-02-27T00:00:00Z","2011-03-06T00:00:00Z","2011-03-13T00:00:00Z","2011-03-20T00:00:00Z","2011-03-27T00:00:00Z","2011-04-03T00:00:00Z","2011-04-10T00:00:00Z","2011-04-17T00:00:00Z","2011-04-24T00:00:00Z","2011-05-01T00:00:00Z","2011-05-08T00:00:00Z","2011-05-15T00:00:00Z","2011-05-22T00:00:00Z","2011-05-29T00:00:00Z","2011-06-05T00:00:00Z","2011-06-12T00:00:00Z","2011-06-19T00:00:00Z","2011-06-26T00:00:00Z","2011-07-03T00:00:00Z","2011-07-10T00:00:00Z","2011-07-17T00:00:00Z","2011-07-24T00:00:00Z","2011-07-31T00:00:00Z","2011-08-07T00:00:00Z","2011-08-14T00:00:00Z","2011-08-21T00:00:00Z","2011-08-28T00:00:00Z","2011-09-04T00:00:00Z","2011-09-11T00:00:00Z","2011-09-18T00:00:00Z","2011-09-25T00:00:00Z","2011-10-02T00:00:00Z","2011-10-09T00:00:00Z","2011-10-16T00:00:00Z","2011-10-23T00:00:00Z","2011-10-30T00:00:00Z","2011-11-06T00:00:00Z","2011-11-13T00:00:00Z","2011-11-20T00:00:00Z","2011-11-27T00:00:00Z","2011-12-04T00:00:00Z","2011-12-11T00:00:00Z","2011-12-18T00:00:00Z","2011-12-25T00:00:00Z","2012-01-01T00:00:00Z","2012-01-08T00:00:00Z","2012-01-15T00:00:00Z","2012-01-22T00:00:00Z","2012-01-29T00:00:00Z","2012-02-05T00:00:00Z","2012-02-12T00:00:00Z","2012-02-19T00:00:00Z","2012-02-26T00:00:00Z","2012-03-04T00:00:00Z","2012-03-11T00:00:00Z","2012-03-18T00:00:00Z","2012-03-25T00:00:00Z","2012-04-01T00:00:00Z","2012-04-08T00:00:00Z","2012-04-15T00:00:00Z","2012-04-22T00:00:00Z","2012-04-29T00:00:00Z","2012-05-06T00:00:00Z","2012-05-13T00:00:00Z","2012-05-20T00:00:00Z","2012-05-27T00:00:00Z","2012-06-03T00:00:00Z","2012-06-10T00:00:00Z","2012-06-17T00:00:00Z","2012-06-24T00:00:00Z","2012-07-01T00:00:00Z","2012-07-08T00:00:00Z","2012-07-15T00:00:00Z","2012-07-22T00:00:00Z","2012-07-29T00:00:00Z","2012-08-05T00:00:00Z","2012-08-12T00:00:00Z","2012-08-19T00:00:00Z","2012-08-26T00:00:00Z","2012-09-02T00:00:00Z","2012-09-09T00:00:00Z","2012-09-16T00:00:00Z","2012-09-23T00:00:00Z","2012-09-30T00:00:00Z","2012-10-07T00:00:00Z","2012-10-14T00:00:00Z","2012-10-21T00:00:00Z","2012-10-28T00:00:00Z","2012-11-04T00:00:00Z","2012-11-11T00:00:00Z","2012-11-18T00:00:00Z","2012-11-25T00:00:00Z","2012-12-02T00:00:00Z","2012-12-09T00:00:00Z","2012-12-16T00:00:00Z","2012-12-23T00:00:00Z","2012-12-30T00:00:00Z","2013-01-06T00:00:00Z","2013-01-13T00:00:00Z","2013-01-20T00:00:00Z","2013-01-27T00:00:00Z","2013-02-03T00:00:00Z","2013-02-10T00:00:00Z","2013-02-17T00:00:00Z","2013-02-24T00:00:00Z","2013-03-03T00:00:00Z","2013-03-10T00:00:00Z","2013-03-17T00:00:00Z","2013-03-24T00:00:00Z","2013-03-31T00:00:00Z","2013-04-07T00:00:00Z","2013-04-14T00:00:00Z","2013-04-21T00:00:00Z","2013-04-28T00:00:00Z","2013-05-05T00:00:00Z","2013-05-12T00:00:00Z","2013-05-19T00:00:00Z","2013-05-26T00:00:00Z","2013-06-02T00:00:00Z","2013-06-09T00:00:00Z","2013-06-16T00:00:00Z","2013-06-23T00:00:00Z","2013-06-30T00:00:00Z","2013-07-07T00:00:00Z","2013-07-14T00:00:00Z","2013-07-21T00:00:00Z","2013-07-28T00:00:00Z","2013-08-04T00:00:00Z","2013-08-11T00:00:00Z","2013-08-18T00:00:00Z","2013-08-25T00:00:00Z","2013-09-01T00:00:00Z","2013-09-08T00:00:00Z","2013-09-15T00:00:00Z","2013-09-22T00:00:00Z","2013-09-29T00:00:00Z","2013-10-06T00:00:00Z","2013-10-13T00:00:00Z","2013-10-20T00:00:00Z","2013-10-27T00:00:00Z","2013-11-03T00:00:00Z","2013-11-10T00:00:00Z","2013-11-17T00:00:00Z","2013-11-24T00:00:00Z","2013-12-01T00:00:00Z","2013-12-08T00:00:00Z","2013-12-15T00:00:00Z","2013-12-22T00:00:00Z","2013-12-29T00:00:00Z","2014-01-05T00:00:00Z","2014-01-12T00:00:00Z","2014-01-19T00:00:00Z","2014-01-26T00:00:00Z","2014-02-02T00:00:00Z","2014-02-09T00:00:00Z","2014-02-16T00:00:00Z","2014-02-23T00:00:00Z","2014-03-02T00:00:00Z","2014-03-09T00:00:00Z","2014-03-16T00:00:00Z","2014-03-23T00:00:00Z","2014-03-30T00:00:00Z","2014-04-06T00:00:00Z","2014-04-13T00:00:00Z","2014-04-20T00:00:00Z","2014-04-27T00:00:00Z","2014-05-04T00:00:00Z","2014-05-11T00:00:00Z","2014-05-18T00:00:00Z","2014-05-25T00:00:00Z","2014-06-01T00:00:00Z","2014-06-08T00:00:00Z","2014-06-15T00:00:00Z","2014-06-22T00:00:00Z","2014-06-29T00:00:00Z","2014-07-06T00:00:00Z","2014-07-13T00:00:00Z","2014-07-20T00:00:00Z","2014-07-27T00:00:00Z","2014-08-03T00:00:00Z","2014-08-10T00:00:00Z","2014-08-17T00:00:00Z","2014-08-24T00:00:00Z","2014-08-31T00:00:00Z","2014-09-07T00:00:00Z","2014-09-14T00:00:00Z","2014-09-21T00:00:00Z","2014-09-28T00:00:00Z","2014-10-05T00:00:00Z","2014-10-12T00:00:00Z","2014-10-19T00:00:00Z","2014-10-26T00:00:00Z","2014-11-02T00:00:00Z","2014-11-09T00:00:00Z","2014-11-16T00:00:00Z","2014-11-23T00:00:00Z","2014-11-30T00:00:00Z","2014-12-07T00:00:00Z","2014-12-14T00:00:00Z","2014-12-21T00:00:00Z","2014-12-28T00:00:00Z","2015-01-04T00:00:00Z","2015-01-11T00:00:00Z","2015-01-18T00:00:00Z","2015-01-25T00:00:00Z","2015-02-01T00:00:00Z","2015-02-08T00:00:00Z","2015-02-15T00:00:00Z","2015-02-22T00:00:00Z","2015-03-01T00:00:00Z","2015-03-08T00:00:00Z","2015-03-15T00:00:00Z","2015-03-22T00:00:00Z","2015-03-29T00:00:00Z","2015-04-05T00:00:00Z","2015-04-12T00:00:00Z","2015-04-19T00:00:00Z","2015-04-26T00:00:00Z","2015-05-03T00:00:00Z","2015-05-10T00:00:00Z","2015-05-17T00:00:00Z","2015-05-24T00:00:00Z","2015-05-31T00:00:00Z","2015-06-07T00:00:00Z","2015-06-14T00:00:00Z","2015-06-21T00:00:00Z","2015-06-28T00:00:00Z","2015-07-05T00:00:00Z","2015-07-12T00:00:00Z","2015-07-19T00:00:00Z","2015-07-26T00:00:00Z","2015-08-02T00:00:00Z","2015-08-09T00:00:00Z","2015-08-16T00:00:00Z","2015-08-23T00:00:00Z","2015-08-30T00:00:00Z","2015-09-06T00:00:00Z","2015-09-13T00:00:00Z","2015-09-20T00:00:00Z","2015-09-27T00:00:00Z","2015-10-04T00:00:00Z","2015-10-11T00:00:00Z","2015-10-18T00:00:00Z","2015-10-25T00:00:00Z","2015-11-01T00:00:00Z","2015-11-08T00:00:00Z","2015-11-15T00:00:00Z","2015-11-22T00:00:00Z","2015-11-29T00:00:00Z","2015-12-06T00:00:00Z","2015-12-13T00:00:00Z","2015-12-20T00:00:00Z","2015-12-27T00:00:00Z","2016-01-03T00:00:00Z","2016-01-10T00:00:00Z","2016-01-17T00:00:00Z","2016-01-24T00:00:00Z","2016-01-31T00:00:00Z","2016-02-07T00:00:00Z","2016-02-14T00:00:00Z","2016-02-21T00:00:00Z","2016-02-28T00:00:00Z","2016-03-06T00:00:00Z","2016-03-13T00:00:00Z","2016-03-20T00:00:00Z","2016-03-27T00:00:00Z","2016-04-03T00:00:00Z","2016-04-10T00:00:00Z","2016-04-17T00:00:00Z","2016-04-24T00:00:00Z","2016-05-01T00:00:00Z","2016-05-08T00:00:00Z","2016-05-15T00:00:00Z","2016-05-22T00:00:00Z","2016-05-29T00:00:00Z","2016-06-05T00:00:00Z","2016-06-12T00:00:00Z","2016-06-19T00:00:00Z","2016-06-26T00:00:00Z","2016-07-03T00:00:00Z","2016-07-10T00:00:00Z","2016-07-17T00:00:00Z","2016-07-24T00:00:00Z","2016-07-31T00:00:00Z","2016-08-07T00:00:00Z","2016-08-14T00:00:00Z","2016-08-21T00:00:00Z","2016-08-28T00:00:00Z","2016-09-04T00:00:00Z","2016-09-11T00:00:00Z","2016-09-18T00:00:00Z","2016-09-25T00:00:00Z","2016-10-02T00:00:00Z","2016-10-09T00:00:00Z","2016-10-16T00:00:00Z","2016-10-23T00:00:00Z","2016-10-30T00:00:00Z","2016-11-06T00:00:00Z","2016-11-13T00:00:00Z","2016-11-20T00:00:00Z","2016-11-27T00:00:00Z","2016-12-04T00:00:00Z","2016-12-11T00:00:00Z","2016-12-18T00:00:00Z","2016-12-25T00:00:00Z","2017-01-01T00:00:00Z","2017-01-08T00:00:00Z","2017-01-15T00:00:00Z","2017-01-22T00:00:00Z","2017-01-29T00:00:00Z","2017-02-05T00:00:00Z","2017-02-12T00:00:00Z","2017-02-19T00:00:00Z","2017-02-26T00:00:00Z","2017-03-05T00:00:00Z","2017-03-12T00:00:00Z","2017-03-19T00:00:00Z","2017-03-26T00:00:00Z","2017-04-02T00:00:00Z","2017-04-09T00:00:00Z","2017-04-16T00:00:00Z","2017-04-23T00:00:00Z","2017-04-30T00:00:00Z","2017-05-07T00:00:00Z","2017-05-14T00:00:00Z","2017-05-21T00:00:00Z","2017-05-28T00:00:00Z","2017-06-04T00:00:00Z","2017-06-11T00:00:00Z","2017-06-18T00:00:00Z","2017-06-25T00:00:00Z","2017-07-02T00:00:00Z","2017-07-09T00:00:00Z","2017-07-16T00:00:00Z","2017-07-23T00:00:00Z","2017-07-30T00:00:00Z","2017-08-06T00:00:00Z","2017-08-13T00:00:00Z","2017-08-20T00:00:00Z","2017-08-27T00:00:00Z","2017-09-03T00:00:00Z","2017-09-10T00:00:00Z","2017-09-17T00:00:00Z","2017-09-24T00:00:00Z","2017-10-01T00:00:00Z","2017-10-08T00:00:00Z","2017-10-15T00:00:00Z","2017-10-22T00:00:00Z","2017-10-29T00:00:00Z","2017-11-05T00:00:00Z","2017-11-12T00:00:00Z","2017-11-19T00:00:00Z","2017-11-26T00:00:00Z","2017-12-03T00:00:00Z","2017-12-10T00:00:00Z","2017-12-17T00:00:00Z","2017-12-24T00:00:00Z","2017-12-31T00:00:00Z","2018-01-07T00:00:00Z","2018-01-14T00:00:00Z","2018-01-21T00:00:00Z","2018-01-28T00:00:00Z","2018-02-04T00:00:00Z","2018-02-11T00:00:00Z","2018-02-18T00:00:00Z","2018-02-25T00:00:00Z","2018-03-04T00:00:00Z","2018-03-11T00:00:00Z","2018-03-18T00:00:00Z","2018-03-25T00:00:00Z","2018-04-01T00:00:00Z","2018-04-08T00:00:00Z","2018-04-15T00:00:00Z","2018-04-22T00:00:00Z","2018-04-29T00:00:00Z","2018-05-06T00:00:00Z","2018-05-13T00:00:00Z","2018-05-20T00:00:00Z","2018-05-27T00:00:00Z","2018-06-03T00:00:00Z","2018-06-10T00:00:00Z","2018-06-17T00:00:00Z","2018-06-24T00:00:00Z","2018-07-01T00:00:00Z","2018-07-08T00:00:00Z","2018-07-15T00:00:00Z","2018-07-22T00:00:00Z","2018-07-29T00:00:00Z","2018-08-05T00:00:00Z","2018-08-12T00:00:00Z","2018-08-19T00:00:00Z","2018-08-26T00:00:00Z","2018-09-02T00:00:00Z","2018-09-09T00:00:00Z","2018-09-16T00:00:00Z","2018-09-23T00:00:00Z","2018-09-30T00:00:00Z","2018-10-07T00:00:00Z","2018-10-14T00:00:00Z","2018-10-21T00:00:00Z","2018-10-28T00:00:00Z","2018-11-04T00:00:00Z","2018-11-11T00:00:00Z","2018-11-18T00:00:00Z","2018-11-25T00:00:00Z","2018-12-02T00:00:00Z","2018-12-09T00:00:00Z","2018-12-16T00:00:00Z","2018-12-23T00:00:00Z","2018-12-30T00:00:00Z","2019-01-06T00:00:00Z","2019-01-13T00:00:00Z","2019-01-20T00:00:00Z","2019-01-27T00:00:00Z","2019-02-03T00:00:00Z","2019-02-10T00:00:00Z","2019-02-17T00:00:00Z","2019-02-24T00:00:00Z","2019-03-03T00:00:00Z","2019-03-10T00:00:00Z","2019-03-17T00:00:00Z","2019-03-24T00:00:00Z","2019-03-31T00:00:00Z","2019-04-07T00:00:00Z","2019-04-14T00:00:00Z","2019-04-21T00:00:00Z","2019-04-28T00:00:00Z","2019-05-05T00:00:00Z","2019-05-12T00:00:00Z","2019-05-19T00:00:00Z","2019-05-26T00:00:00Z","2019-06-02T00:00:00Z","2019-06-09T00:00:00Z","2019-06-16T00:00:00Z","2019-06-23T00:00:00Z","2019-06-30T00:00:00Z","2019-07-07T00:00:00Z","2019-07-14T00:00:00Z","2019-07-21T00:00:00Z","2019-07-28T00:00:00Z","2019-08-04T00:00:00Z","2019-08-11T00:00:00Z","2019-08-18T00:00:00Z","2019-08-25T00:00:00Z","2019-09-01T00:00:00Z","2019-09-08T00:00:00Z","2019-09-15T00:00:00Z","2019-09-22T00:00:00Z","2019-09-29T00:00:00Z","2019-10-06T00:00:00Z","2019-10-13T00:00:00Z","2019-10-20T00:00:00Z","2019-10-27T00:00:00Z","2019-11-03T00:00:00Z","2019-11-10T00:00:00Z","2019-11-17T00:00:00Z","2019-11-24T00:00:00Z","2019-12-01T00:00:00Z","2019-12-08T00:00:00Z","2019-12-15T00:00:00Z","2019-12-22T00:00:00Z","2019-12-29T00:00:00Z","2020-01-05T00:00:00Z","2020-01-12T00:00:00Z","2020-01-19T00:00:00Z","2020-01-26T00:00:00Z","2020-02-02T00:00:00Z","2020-02-09T00:00:00Z","2020-02-16T00:00:00Z","2020-02-23T00:00:00Z","2020-03-01T00:00:00Z","2020-03-08T00:00:00Z","2020-03-15T00:00:00Z","2020-03-22T00:00:00Z","2020-03-29T00:00:00Z","2020-04-05T00:00:00Z","2020-04-12T00:00:00Z","2020-04-19T00:00:00Z","2020-04-26T00:00:00Z","2020-05-03T00:00:00Z","2020-05-10T00:00:00Z","2020-05-17T00:00:00Z","2020-05-24T00:00:00Z","2020-05-31T00:00:00Z","2020-06-07T00:00:00Z","2020-06-14T00:00:00Z","2020-06-21T00:00:00Z","2020-06-28T00:00:00Z","2020-07-05T00:00:00Z","2020-07-12T00:00:00Z","2020-07-19T00:00:00Z","2020-07-26T00:00:00Z","2020-08-02T00:00:00Z","2020-08-09T00:00:00Z","2020-08-16T00:00:00Z","2020-08-23T00:00:00Z","2020-08-30T00:00:00Z","2020-09-06T00:00:00Z","2020-09-13T00:00:00Z","2020-09-20T00:00:00Z","2020-09-27T00:00:00Z","2020-10-04T00:00:00Z","2020-10-11T00:00:00Z","2020-10-18T00:00:00Z","2020-10-25T00:00:00Z","2020-11-01T00:00:00Z","2020-11-08T00:00:00Z","2020-11-15T00:00:00Z","2020-11-22T00:00:00Z","2020-11-29T00:00:00Z","2020-12-06T00:00:00Z","2020-12-13T00:00:00Z","2020-12-20T00:00:00Z","2020-12-27T00:00:00Z","2021-01-03T00:00:00Z","2021-01-10T00:00:00Z","2021-01-17T00:00:00Z","2021-01-24T00:00:00Z","2021-01-31T00:00:00Z","2021-02-07T00:00:00Z","2021-02-14T00:00:00Z","2021-02-21T00:00:00Z","2021-02-28T00:00:00Z","2021-03-07T00:00:00Z","2021-03-14T00:00:00Z","2021-03-21T00:00:00Z","2021-03-28T00:00:00Z","2021-04-04T00:00:00Z","2021-04-11T00:00:00Z","2021-04-18T00:00:00Z","2021-04-25T00:00:00Z","2021-05-02T00:00:00Z","2021-05-09T00:00:00Z","2021-05-16T00:00:00Z","2021-05-23T00:00:00Z","2021-05-30T00:00:00Z","2021-06-06T00:00:00Z","2021-06-13T00:00:00Z","2021-06-20T00:00:00Z","2021-06-27T00:00:00Z","2021-07-04T00:00:00Z","2021-07-11T00:00:00Z","2021-07-18T00:00:00Z","2021-07-25T00:00:00Z","2021-08-01T00:00:00Z","2021-08-08T00:00:00Z","2021-08-15T00:00:00Z","2021-08-22T00:00:00Z","2021-08-29T00:00:00Z","2021-09-05T00:00:00Z","2021-09-12T00:00:00Z","2021-09-19T00:00:00Z","2021-09-26T00:00:00Z","2021-10-03T00:00:00Z","2021-10-10T00:00:00Z","2021-10-17T00:00:00Z","2021-10-24T00:00:00Z","2021-10-31T00:00:00Z","2021-11-07T00:00:00Z","2021-11-14T00:00:00Z","2021-11-21T00:00:00Z","2021-11-28T00:00:00Z","2021-12-05T00:00:00Z","2021-12-12T00:00:00Z","2021-12-19T00:00:00Z","2021-12-26T00:00:00Z","2022-01-02T00:00:00Z","2022-01-09T00:00:00Z","2022-01-16T00:00:00Z","2022-01-23T00:00:00Z","2022-01-30T00:00:00Z","2022-02-06T00:00:00Z","2022-02-13T00:00:00Z","2022-02-20T00:00:00Z","2022-02-27T00:00:00Z","2022-03-06T00:00:00Z","2022-03-13T00:00:00Z","2022-03-20T00:00:00Z","2022-03-27T00:00:00Z","2022-04-03T00:00:00Z","2022-04-10T00:00:00Z","2022-04-17T00:00:00Z","2022-04-24T00:00:00Z","2022-05-01T00:00:00Z","2022-05-08T00:00:00Z","2022-05-15T00:00:00Z","2022-05-22T00:00:00Z","2022-05-29T00:00:00Z","2022-06-05T00:00:00Z","2022-06-12T00:00:00Z","2022-06-19T00:00:00Z","2022-06-26T00:00:00Z","2022-07-03T00:00:00Z","2022-07-10T00:00:00Z","2022-07-17T00:00:00Z","2022-07-24T00:00:00Z","2022-07-31T00:00:00Z","2022-08-07T00:00:00Z","2022-08-14T00:00:00Z","2022-08-21T00:00:00Z","2022-08-28T00:00:00Z","2022-09-04T00:00:00Z","2022-09-11T00:00:00Z","2022-09-18T00:00:00Z","2022-09-25T00:00:00Z","2022-10-02T00:00:00Z","2022-10-09T00:00:00Z","2022-10-16T00:00:00Z","2022-10-23T00:00:00Z","2022-10-30T00:00:00Z","2022-11-06T00:00:00Z","2022-11-13T00:00:00Z","2022-11-20T00:00:00Z","2022-11-27T00:00:00Z","2022-12-04T00:00:00Z","2022-12-11T00:00:00Z","2022-12-18T00:00:00Z","2022-12-25T00:00:00Z","2023-01-01T00:00:00Z","2023-01-08T00:00:00Z","2023-01-15T00:00:00Z","2023-01-22T00:00:00Z","2023-01-29T00:00:00Z"]
    params.timeseries = params.timeseries.map(x => new Date(x))

    // decide y/n whether to service this request
    let bailout = helpers.request_sanitation(params.polygon, params.center, params.radius, params.multipolygon, true) 
    if(bailout){
      reject(bailout)
      return
    }

    // local filter: fields in data collection other than geolocation and timestamp 
    let local_filter = {$match:{}}
    if(id){
        local_filter['$match']['_id'] = id
    }
    if(Object.keys(local_filter['$match']).length > 0){
      local_filter = [local_filter]
    } else {
      local_filter = []
    }

    // postprocessing parameters
    let pp_params = {
        compression: compression,
        data: JSON.stringify(data) === '["except-data-values"]' ? null : data, // ie `data=except-data-values` is the same as just omitting the data qsp
        presRange: null,
        dateRange: [params.startDate, params.endDate],
        mostrecent: mostrecent,
        suppress_meta: compression=='minimal' // don't need to look up tc metadata if making a minimal request
    }

    // can we afford to project data documents down to a subset in aggregation?
    let projection = null
    if(compression=='minimal' && data==null){
      projection = ['_id', 'metadata', 'geolocation']
    }

    // metadata table filter: no-op promise if nothing to filter metadata for, custom search otherwise
    let metafilter = Promise.resolve([])

    // datafilter must run syncronously after metafilter in case metadata info is the only search parameter for the data collection
    let datafilter = metafilter.then(helpers.datatable_stream.bind(null, noaasst['noaasst'], params, local_filter, projection, null))

    Promise.all([metafilter, datafilter])
        .then(search_result => {

          let stub = function(data, metadata){
              // given a data and corresponding metadata document,
              // return the record that should be returned when the compression=minimal API flag is set
              // should be id, long, lat, timestamp, and then anything needed to group this point together with other points in interesting ways.
              return [
                data['_id'], 
                data.geolocation.coordinates[0], 
                data.geolocation.coordinates[1], 
              ]
          }
          
          let postprocess = helpers.post_xform(noaasst['noaasstMeta'], pp_params, search_result, res, stub)
          res.status(404) // 404 by default
          resolve([search_result[1], postprocess])

        })
  });
}


/**
 * NOAA SST metadata search and filter.
 *
 * id String Unique ID to search for. (optional)
 * returns List
 **/
exports.findNOAASSTmeta = function(res, id) {
  return new Promise(function(resolve, reject) {
    let match = {
        '_id': id

    }
    Object.keys(match).forEach((k) => match[k] === undefined && delete match[k]);

    const query = noaasst['noaasstMeta'].aggregate([{$match:match}]);
    let postprocess = helpers.meta_xform(res)
    res.status(404) // 404 by default
    resolve([query.cursor(), postprocess])    
  });
}
